{% extends "base.html" %}

<body>
    
    {% block header %}

    <header class="header">
        <div class="header-container center">
            <div class="header-container__left">
                <a href="{% url 'home_page' %}" class="header-container__left__search-form__submit-button" type="button" aria-label="Искать">
                    Домой
                </a>
                <form role="search" class="header-container__left__search-form">
                    <input type="search" class="header-container__left__search-form__input-input" placeholder="Поиск по рецептам" >
                    <button class="header-container__left__search-form__filters-button" type="button" aria-label="Открыть список фильтров">
                        <svg width="25" height="24" fill="none" xmlns="http://www.w3.org/2000/svg" role="presentation"><path d="M12.418 20.444h8.272a.444.444 0 1 0 0-.889h-8.272A2.003 2.003 0 0 0 10.468 18c-.95 0-1.748.665-1.95 1.555H2.912a.445.445 0 1 0 0 .89h5.606c.202.889.998 1.555 1.95 1.555.95 0 1.748-.665 1.95-1.556Zm6.667-8h1.605a.445.445 0 0 0 0-.889h-1.605A2.003 2.003 0 0 0 17.135 10c-.95 0-1.749.665-1.95 1.555H2.912a.445.445 0 1 0 0 .89h12.271c.203.889.999 1.555 1.95 1.555.95 0 1.748-.665 1.95-1.556Zm-10.667-8H20.69a.445.445 0 0 0 0-.888H8.42A2.003 2.003 0 0 0 6.467 2c-.95 0-1.748.665-1.95 1.556H2.912a.444.444 0 1 0 0 .889h1.606C4.72 5.334 5.516 6 6.468 6c.95 0 1.748-.665 1.95-1.555Z" fill="#241F20"></path></svg>
                    </button>
                </form>
                <button class="header-container__left__search-form__submit-button" type="submit" aria-label="Искать">
                    <svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg" class="searchInput_searchSvg__sqDxD" role="presentation"><path d="M10.04 2.5a7.539 7.539 0 1 1 0 15.079 7.539 7.539 0 0 1 0-15.078ZM15.725 15.724 22 22" stroke="#241F20" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                </button>
            </div>
            <div class="header-container__right">
                <a href="{% url 'add_recipe' %}" class="header-container__right__registration">
                    <svg fill="#000000" width="800px" height="800px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1"><path d="M6.33,18.45v8.59c0,.41,.34,.75,.75,.75h15.13c.41,0,.75-.34,.75-.75v-8.6c1.91-.75,3.27-2.6,3.27-4.77,0-2.83-2.3-5.13-5.13-5.13-.56,0-1.13,.1-1.67,.28-1.2-1.87-3.24-3.01-5.49-3.01s-4.09,1.02-5.31,2.75c-3.06-.27-5.56,2.14-5.56,5.11,0,2.17,1.36,4.02,3.27,4.77Zm1.5,7.84v-1.87h13.63v1.87H7.83Zm13.63-7.48v4.11H7.83v-4.11h13.63ZM8.19,10.05c.18,0,.36,.02,.56,.05,0,0,.01,0,.02,0,1.72,.33,2.97,1.83,2.97,3.57,0,.41,.34,.75,.75,.75s.75-.34,.75-.75c0-2.05-1.23-3.85-3.04-4.67,.94-1.07,2.29-1.7,3.74-1.7,1.91,0,3.64,1.07,4.5,2.79,.09,.18,.25,.31,.43,.38,.19,.06,.39,.05,.57-.04,.52-.26,1.09-.4,1.65-.4,2,0,3.63,1.63,3.63,3.63s-1.63,3.63-3.63,3.63H8.19c-2,0-3.63-1.63-3.63-3.63s1.63-3.63,3.63-3.63Z"/></svg>
                    Добавить рецепт
                </a> 
                <a href="{% url 'user_info' pk=user.pk %}" class="header-container__right__registration">
                    <svg fill="#000000" width="800px" height="800px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1"><path d="M6.97,30.75H25.03c.41,0,.75-.34,.75-.75V3.89c0-.41-.34-.75-.75-.75h-2.56v-1.14c0-.41-.34-.75-.75-.75s-.75,.34-.75,.75v1.14h-4.22v-1.14c0-.41-.34-.75-.75-.75s-.75,.34-.75,.75v1.14h-4.22v-1.14c0-.41-.34-.75-.75-.75s-.75,.34-.75,.75v1.14h-2.56c-.41,0-.75,.34-.75,.75V30c0,.41,.34,.75,.75,.75Zm.75-26.11h1.81v1.14c0,.41,.34,.75,.75,.75s.75-.34,.75-.75v-1.14h4.22v1.14c0,.41,.34,.75,.75,.75s.75-.34,.75-.75v-1.14h4.22v1.14c0,.41,.34,.75,.75,.75s.75-.34,.75-.75v-1.14h1.81V29.25H7.72V4.64Z"/><path d="M16.86,9.66h-6.57c-.41,0-.75,.34-.75,.75s.34,.75,.75,.75h6.57c.41,0,.75-.34,.75-.75s-.34-.75-.75-.75Z"/><path d="M16.86,16.19h-6.57c-.41,0-.75,.34-.75,.75s.34,.75,.75,.75h6.57c.41,0,.75-.34,.75-.75s-.34-.75-.75-.75Z"/><path d="M16.86,22.73h-6.57c-.41,0-.75,.34-.75,.75s.34,.75,.75,.75h6.57c.41,0,.75-.34,.75-.75s-.34-.75-.75-.75Z"/><path d="M10.28,14.27h3.61c.41,0,.75-.34,.75-.75s-.34-.75-.75-.75h-3.61c-.41,0-.75,.34-.75,.75s.34,.75,.75,.75Z"/><path d="M10.28,21h3.61c.41,0,.75-.34,.75-.75s-.34-.75-.75-.75h-3.61c-.41,0-.75,.34-.75,.75s.34,.75,.75,.75Z"/><path d="M13.89,25.79h-3.61c-.41,0-.75,.34-.75,.75s.34,.75,.75,.75h3.61c.41,0,.75-.34,.75-.75s-.34-.75-.75-.75Z"/></svg>
                        {% if user.first_name and user.last_name %}

                        {{ user.first_name }} {{ user.last_name }}
    
                        {% else %}
        
                            {{ user.username }}
        
                        {% endif %}
                </a>
                <!-- <form action="{% url 'logout' %}" method="post">
                    {% csrf_token %} 
                    <button type="submit" class="header-container__right__registration">
                        <svg fill="#000000" width="800px" height="800px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1"><path d="M6.97,30.75H25.03c.41,0,.75-.34,.75-.75V3.89c0-.41-.34-.75-.75-.75h-2.56v-1.14c0-.41-.34-.75-.75-.75s-.75,.34-.75,.75v1.14h-4.22v-1.14c0-.41-.34-.75-.75-.75s-.75,.34-.75,.75v1.14h-4.22v-1.14c0-.41-.34-.75-.75-.75s-.75,.34-.75,.75v1.14h-2.56c-.41,0-.75,.34-.75,.75V30c0,.41,.34,.75,.75,.75Zm.75-26.11h1.81v1.14c0,.41,.34,.75,.75,.75s.75-.34,.75-.75v-1.14h4.22v1.14c0,.41,.34,.75,.75,.75s.75-.34,.75-.75v-1.14h4.22v1.14c0,.41,.34,.75,.75,.75s.75-.34,.75-.75v-1.14h1.81V29.25H7.72V4.64Z"/><path d="M16.86,9.66h-6.57c-.41,0-.75,.34-.75,.75s.34,.75,.75,.75h6.57c.41,0,.75-.34,.75-.75s-.34-.75-.75-.75Z"/><path d="M16.86,16.19h-6.57c-.41,0-.75,.34-.75,.75s.34,.75,.75,.75h6.57c.41,0,.75-.34,.75-.75s-.34-.75-.75-.75Z"/><path d="M16.86,22.73h-6.57c-.41,0-.75,.34-.75,.75s.34,.75,.75,.75h6.57c.41,0,.75-.34,.75-.75s-.34-.75-.75-.75Z"/><path d="M10.28,14.27h3.61c.41,0,.75-.34,.75-.75s-.34-.75-.75-.75h-3.61c-.41,0-.75,.34-.75,.75s.34,.75,.75,.75Z"/><path d="M10.28,21h3.61c.41,0,.75-.34,.75-.75s-.34-.75-.75-.75h-3.61c-.41,0-.75,.34-.75,.75s.34,.75,.75,.75Z"/><path d="M13.89,25.79h-3.61c-.41,0-.75,.34-.75,.75s.34,.75,.75,.75h3.61c.41,0,.75-.34,.75-.75s-.34-.75-.75-.75Z"/></svg>
                        {% if user.first_name and user.last_name %}

                        {{ user.first_name }} {{ user.last_name }}
    
                        {% else %}
        
                            {{ user.username }}
        
                        {% endif %}
                    </button>
                </form>                         -->
            </div>
        </div>
        <div class="header-filter-container center">
            <div class="header-filter-container-filter">
                <details open class="header-filter-container__country-details">
                    <summary class="header-filter-container__country-details__summary">
                        Выбирите кухню
                    </summary>
                    <div class="header-filter-container__country-details__box">
                        <input class="header-filter-container__country-details__box__input" type="checkbox" id="asia" name="asia"/>
                        <label class="header-filter-container__country-details__box__label" for="asia">Азиатская кухня</label>
                    </div>
                    <div class="header-filter-container__country-details__box">
                        <input class="header-filter-container__country-details__box__input" type="checkbox" id="russia" name="russia"/>
                        <label class="header-filter-container__country-details__box__label" for="russia">Российская кухня</label>
                    </div>
                    <div class="header-filter-container__country-details__box">
                        <input class="header-filter-container__country-details__box__input" type="checkbox" id="georg" name="georg"/>
                        <label class="header-filter-container__country-details__box__label" for="georg">Грузинская кухня</label>
                    </div>
                </details>
                <details open class="header-filter-container__country-details">
                    <summary class="header-filter-container__country-details__summary">
                        Выбирите кухню
                    </summary>
                    <div class="header-filter-container__country-details__box">
                        <input class="header-filter-container__country-details__box__input" type="checkbox" id="asia" name="asia"/>
                        <label class="header-filter-container__country-details__box__label" for="asia">Азиатская кухня</label>
                    </div>
                    <div class="header-filter-container__country-details__box">
                        <input class="header-filter-container__country-details__box__input" type="checkbox" id="russia" name="russia"/>
                        <label class="header-filter-container__country-details__box__label" for="russia">Российская кухня</label>
                    </div>
                    <div class="header-filter-container__country-details__box">
                        <input class="header-filter-container__country-details__box__input" type="checkbox" id="georg" name="georg"/>
                        <label class="header-filter-container__country-details__box__label" for="georg">Грузинская кухня</label>
                    </div>
                </details>                
            </div>
            <button type="button" class="header-filter-container__button">
                Применить
            </button>
        </div>
    </header>

    {% endblock header %}

    {% block content %}

    <section class="recipes-preview center">
        <div class="recipes-preview__block-description">
            <h2 class="recipes-preview__block-description__title">Добро пожаловать в Вашу поваренную книгу
                {% if user.first_name and user.last_name %}

                    {{ user.first_name }} {{ user.last_name }}

                {% else %}

                    {{ user.username }}

                {% endif %}
            </h2>
            <p class="recipes-preview__block-description__subtitle">Ваши рецепты</p>
        </div>
        <div class="recipes-preview__cards">
                {% for recipe in recipies %}
                    <div class="recipes-preview__card">
                        <div class="recipes-preview__card__img-container">
                            <img src="/media/{{ recipe.image }}" alt="Product image">          
                        </div>
                        <div class="recipes-preview__card__description">
                            <h2 class="recipes-preview__card__description__title">
                                {{ recipe.name }}
                            </h2>
                        </div>
                        <div class="recipes-preview__card__cocking-time">
                            <div class="recipes-preview__card__cocking-time__preparation">
                                <svg width="64px" height="64px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M12 7V12L13.5 14.5M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
                                <p class="recipes-preview__card__cocking-time__preparation__title">
                                    {{ recipe.cooking_time }} мин
                                </p>
                            </div>
                            <div class="recipes-preview__card__cocking-time__preparation">
                                <svg width="64px" height="64px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M12 7V12L13.5 14.5M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
                                <p class="recipes-preview__card__cocking-time__preparation__title">
                                    {{ recipe.quantity_of_servings }} порций
                                </p>
                            </div>
                        </div>
                        <div class="recipes-preview__card__author">
                            <h1 class="recipes-preview__card__author__title">
                                Автор: <span class="recipes-preview__card__author__title-span">
                                    {% if user.first_name and user.last_name %}

                                        {{ user.first_name }} {{ user.last_name }}
                
                                    {% else %}
                
                                        {{ user.username }}
                
                                    {% endif %}
                                </span>
                            </h1>
                        </div>
                        <div class="recipes-preview__card__nutritional-value">
                            <div class="recipes-preview__card__nutritional-value__description-box">
                                <div class="recipes-preview__card__nutritional-value__description">
                                    <p class="recipes-preview__card__nutritional-value__description__title">
                                        Калории
                                    </p>
                                    <p class="recipes-preview__card__nutritional-value__description__subtitle">
                                        137.0 кК
                                    </p>
                                </div>
                                <div class="recipes-preview__card__nutritional-value__description">
                                    <p class="recipes-preview__card__nutritional-value__description__title">
                                        Белки
                                    </p>
                                    <p class="recipes-preview__card__nutritional-value__description__subtitle">
                                        8.0 г
                                    </p>
                                </div>   
                                <div class="recipes-preview__card__nutritional-value__description">
                                    <p class="recipes-preview__card__nutritional-value__description__title">
                                        Жиры
                                    </p>
                                    <p class="recipes-preview__card__nutritional-value__description__subtitle">
                                        4.0 г
                                    </p>
                                </div>   
                                <div class="recipes-preview__card__nutritional-value__description">
                                    <p class="recipes-preview__card__nutritional-value__description__title">
                                        Углеводы
                                    </p>
                                    <p class="recipes-preview__card__nutritional-value__description__subtitle">
                                        17.0 г
                                    </p>
                                </div>                           
                            </div>
                            <div class="recipes-preview__card__nutritional-value__spoiler">
                                <p class="recipes-preview__card__nutritional-value__spoiler__title">
                                    Пищевая ценность на 100г, калорийность рассчитана для сырых продуктов
                                </p>
                            </div>
                        </div>
                        <div class="recipes-preview__card__short-description">
                            <p class="recipes-preview__card__short-description__title">
                                {{ recipe.short_description }}
                            </p>
                        </div>
                        <div class="recipes-preview__card__button-box account-view">
                            <a href="{% url 'update_recipe' pk=recipe.pk %}" class="recipes-preview__card__button-box__button" id="1">
                                Редактировать
                            </a>
                            <a href="{% url 'delete_recipe' pk=recipe.pk %}" class="recipes-preview__card__button-box__button" id="1">
                                Удалить
                            </a>
                        </div>
                    </div>
                {% endfor %}

                <div class="pagination">
                    <span class="step-links">
                        {% if page_obj.has_previous %}
                            <a href="?page=1">&laquo; first</a>
                            <a href="?page={{ page_obj.previous_page_number }}">previous</a>
                        {% endif %}
                
                        <span class="current">
                            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
                        </span>
                
                        {% if page_obj.has_next %}
                            <a href="?page={{ page_obj.next_page_number }}">next</a>
                            <a href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
                        {% endif %}
                    </span>
                </div>
        </div>


    </section>

    {% endblock content %}

</body>
</html>